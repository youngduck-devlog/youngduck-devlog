"use strict";(self.webpackChunkyd_blog=self.webpackChunkyd_blog||[]).push([[8565],{"./src/app/home/components/scrap/scrap-item/scrap-item.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>scrap_item_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js");const NOTION_API_ERROR_MESSAGES_FETCH_FAILED="데이터를 불러오는데 실패했습니다.";var process=__webpack_require__("./node_modules/process/browser.js");var next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link);const ScrapItem=async()=>{try{const scrapList=await async function getAllScrapList(){try{if(!process.env.NOTION_DATABASE_ID||!process.env.NOTION_TOKEN)throw new Error("Configuration error: Missing environment variables");const response=await fetch(`https://api.notion.com/v1/databases/${process.env.NOTION_DATABASE_ID}/query`,{cache:"no-store",method:"POST",headers:{Accept:"application/json","Notion-Version":"2022-06-28","Content-Type":"application/json",Authorization:`Bearer ${process.env.NOTION_TOKEN}`},body:JSON.stringify({page_size:100})});if(!response.ok)throw new Error(NOTION_API_ERROR_MESSAGES_FETCH_FAILED);return(await response.json()).results.map((item=>item.properties)).map(((item,index)=>{var _item_title_title_,_item_title_title,_item_title,_item_tags_multi_select,_item_tags,_item_link_rich_text_,_item_link_rich_text,_item_link,_item_title_title__plain_text,_item_tags_multi_select_map,_item_link_rich_text__plain_text;return{id:index,name:null!==(_item_title_title__plain_text=null===(_item_title=item.title)||void 0===_item_title||null===(_item_title_title=_item_title.title)||void 0===_item_title_title||null===(_item_title_title_=_item_title_title[0])||void 0===_item_title_title_?void 0:_item_title_title_.plain_text)&&void 0!==_item_title_title__plain_text?_item_title_title__plain_text:"",tags:null!==(_item_tags_multi_select_map=null===(_item_tags=item.tags)||void 0===_item_tags||null===(_item_tags_multi_select=_item_tags.multi_select)||void 0===_item_tags_multi_select?void 0:_item_tags_multi_select.map((tag=>tag.name)))&&void 0!==_item_tags_multi_select_map?_item_tags_multi_select_map:[],link:null!==(_item_link_rich_text__plain_text=null===(_item_link=item.link)||void 0===_item_link||null===(_item_link_rich_text=_item_link.rich_text)||void 0===_item_link_rich_text||null===(_item_link_rich_text_=_item_link_rich_text[0])||void 0===_item_link_rich_text_?void 0:_item_link_rich_text_.plain_text)&&void 0!==_item_link_rich_text__plain_text?_item_link_rich_text__plain_text:""}}))}catch(error){return[]}}();return scrapList&&0!==scrapList.length?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:scrapList.map(((item,index)=>(0,jsx_runtime.jsxs)(link_default(),{href:item.link,target:"_blank",className:"block p-2 border-t-2",children:[(0,jsx_runtime.jsx)("h3",{className:"text-sm hover:underline",children:item.name}),item.tags.length>0&&(0,jsx_runtime.jsx)("div",{className:"text-xs text-gray-600",children:item.tags.join(", ")})]},item.id)))}):(0,jsx_runtime.jsx)("div",{children:"스크랩된 항목이 없습니다."})}catch(error){return(0,jsx_runtime.jsx)("div",{children:"데이터를 불러오는 중 오류가 발생했습니다."})}},scrap_item=ScrapItem;ScrapItem.__docgenInfo={description:"",methods:[],displayName:"ScrapItem"};const scrap_item_stories={title:"Home/ScrapItem",component:scrap_item},Default={args:{}},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {}\n}",...Default.parameters?.docs?.source}}}}}]);